<div
  class="flex flex-row justify-between items-center h-20 pl-5 bg-navy-90 rounded-tl-xl font-main text-white text-2xl"
>
  <div class="flex items-center">
    <svg-icon class="mr-3" [src]="'commenting/comment'"></svg-icon>
    {{ buildTranslationKey('commentsText') | translate }} ({{ overallCommentsCount$ | async }})
  </div>
  <app-cross-button class="mr-3" (click)="closePanel()"></app-cross-button>
</div>
<div class="flex flex-col flex-1 bg-white">
  <div class="flex justify-between items-center px-3 min-h-14 h-14 border border-solid border-b-navy-30">
    <app-thread-state-filter></app-thread-state-filter>
    <ng-container *visibleForRole="[adminRole]">
      <app-resolve-all-action *ngIf="areActiveDisplayed$ | async"></app-resolve-all-action>
      <app-delete-all-action *ngIf="areResolvedDisplayed$ | async"></app-delete-all-action>
    </ng-container>
  </div>
  <app-no-comments-empty-state *ngIf="!(filter$ | async)?.length"></app-no-comments-empty-state>
  <perfect-scrollbar [class.hidden]="!(filter$ | async)?.length" class="w-full h-full">
    <app-virtual-scroll-renderer
      #renderer
      class="w-full h-full"
      [allItemsStream]="threads$"
      [filteredItemsStream]="filter$"
      [itemAddingStream]="newThreadsStream$"
      [idSelector]="resourceIdSelector"
      [scrollToNewlyAddedItem]="true"
    >
      <ng-template #itemTemplate let-item="item">
        <app-thread-item [resource]="item"></app-thread-item>
      </ng-template>
    </app-virtual-scroll-renderer>
  </perfect-scrollbar>
</div>
