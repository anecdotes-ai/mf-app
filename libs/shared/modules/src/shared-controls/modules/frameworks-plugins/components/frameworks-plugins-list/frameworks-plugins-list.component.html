<app-base-modal class="frameworks-plugins-list-modal" [iconPath]="'frameworks-plugins-list'"
                [titleTranslationKey]="buildTranslationKey('title') | translate: {frameworkName: this.framework.framework_name}"
                [descriptionTranslationKey]="buildTranslationKey('automaticSaving') | translate">
  <div class="flex flex-col w-full h-full">
    <section [searchScope]>
      <section class="w-full flex flex-col ">
        <app-frameworks-plugins-list-search (activateAllPluginsEvent)="activateAllPlugins()"
                                            [activateAllPluginsDisabled]="!hasExcluded()"
                                            class="mt-10 mx-5" #searchComponent>
        </app-frameworks-plugins-list-search>
      </section>
    </section>
    <div class="flex flex-col flex-1 py-4">
      <div *ngIf="(searchComponent.foundPlugins$ | async).length == 0; else vScrollTemplate"
           class="w-100 justify-items-center">
        <svg-icon [src]="'plugins-not-found'" class="h-40 mt-20 w-full float-left"></svg-icon>
        <div class="w-full text-center text-2xl h-6 font-bold font-main float-left mt-2">
          {{buildTranslationKey('noPluginsFound') | translate}}</div>
      </div>
    </div>
  </div>
</app-base-modal>

<ng-template #vScrollTemplate>
  <perfect-scrollbar class="px-5 pb-3 h-full">
    <app-virtual-scroll-renderer [idSelector]="selectServiceId" [allItemsStream]="searchComponent.allPlugins$"
                                 [filteredItemsStream]="searchComponent.foundPlugins$" [scrollToFocusedItem]="true">
      <ng-template #itemTemplate let-item="item">
        <app-frameworks-plugins-list-item [plugin]="item"
                                          [frameworkId]="framework.framework_id">
        </app-frameworks-plugins-list-item>
      </ng-template>
    </app-virtual-scroll-renderer>
  </perfect-scrollbar>
</ng-template>
