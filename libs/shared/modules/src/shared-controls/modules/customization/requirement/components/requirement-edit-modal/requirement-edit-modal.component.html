<app-base-modal
  iconPath="item-customization"
  [titleTranslationKey]="buildTranslationKey('title')"
  [descriptionTranslationKey]="buildTranslationKey('description')"
  [footerTemplate]="footerTemplate"
>
  <div class="dashed-border">
    <div class="framework-name">
      <svg-icon src="link" preserveAspectRatio="none" [stretch]="true"></svg-icon>
      <span>{{ currentFramework?.framework_name }} / {{ controlInstance?.control_name }}</span>
    </div>
    <app-dynamic-form-outlet [dynamicFormGroup]="formGroup"></app-dynamic-form-outlet>
  </div>
</app-base-modal>

<ng-template #footerTemplate>
  <div class="buttons">
    <app-button id="close-form-btn" (click)="close()" class="mulish medium secondary">{{
      buildTranslationKey('footer.closeBtn') | translate
    }}</app-button>
    <app-button
      id="submit-form-btn"
      [clickOnEnter]="true"
      [class.disabled]="formGroup?.invalid"
      [loading]="sendingRequestBtnLoader$ | async"
      (click)="updateFormBtnClick()"
      class="mulish medium main"
      >{{ buildTranslationKey('footer.updateRequirementBtn') | translate }}</app-button
    >
  </div>
</ng-template>
